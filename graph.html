<!DOCTYPE html>
<html>
    <!-- Displays detailed information on a single graph. Allows OCD algorithm execution. -->
    <head>
        <title>OCD - Graph</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="CSS/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="CSS/layout.css">
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="//npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
        <script src="JS/bootstrap.min.js"></script>
        <script src="JS/jquery.session.js"></script>
        <script src="JS/contentHandler.js"></script>
        <script src="JS/ServiceAPI/b64.js"></script>
        <script src="JS/ServiceAPI/moduleHelper.js"></script>
        <script src="JS/ServiceAPI/serviceAPI.js"></script>
        <script src="JS/requestHandler.js"></script>
        <script src="JS/graphTableHandler.js"></script>
        <script src="JS/jquery.tablesorter.js"></script>
        <script src="JS/jquery.panzoom.js"></script>
        <script src="JS/jquery.mousewheel.js"></script>
        <script src="JS/simulation/jsonRequestHandler.js"></script>
        <script src="JS/simulation/simulationForm.js"></script>
        <script type="text/javascript">
            /* Id of the graph */
            var graphId = getUrlVar("id");
            /* Graph meta information in xml format */
            var graphMetaXml;
            /* Graph structure in edge list format */
            var graphProperties;
            /* Graph structure in edge list format */
            var graphEdgeList;
            /* Graph visualization in SVG format */
            var visualization;
            /* Names of all OCD algorithms */
            var algorithmNames;
            /* Names of all centrality measures */
            var centralityMeasureNames;
            /* Names of all centrality simulations */
            var centralitySimulationNames;
            /* Executed after page loading */
            $(document).ready(function() {
                /* Identifiers for the graph information to be displayed */
                var cells = ["Name", "NodeCount", "EdgeCount", "D", "W", "Z", "N", "L", "C", "R"];
                    /* Requests the graph meta information */
                    sendRequest("get", "graphs/" + graphId + "?outputFormat=META_XML", "",
                        /* Response handler */
                        function(response) {
                            /* Stores graph meta information and adds it to the graph header */
                            graphMetaXml = response;
                            var name = $(graphMetaXml).find('Name').text();
                            var nodes = $(graphMetaXml).find('NodeCount').text();
                            var edges = $(graphMetaXml).find('EdgeCount').text();
                            /* Graph types */
                            var types = [];
                            $(graphMetaXml).children('Types').find('Type').each(function() {
                                types.push($(this).text());
                            });
                            var directed =  $.inArray("DIRECTED", types);
                            var weighted =  $.inArray("WEIGHTED", types);

                            var description = "A";
                            if(directed == -1 && weighted == -1)
                              description += " simple ";
                            if(directed > -1)
                              description += " directed ";
                            if(weighted > -1)
                              description += " weighted ";

                            description += ' network with ' + nodes + ' nodes and ' + edges + ' links.';
                            $('#graphHeader').html(getHeadLine(name, description));
                            $('#graphCovers').html('<a href="covers.html?graphId=' + graphId +'">Covers</a>');
                            $('#graphSimulations').html('<a href="cooperation_simulations.html?graphId='+ graphId +'">Simulations</a>');
                            $('#graphCentralities').html('<a href="centralities.html?graphId=' + graphId +'">Centralities</a>');
                            $('#graphDelete').html('<a onclick="deleteGraph()" href="#">Delete</a>');

                            /* Registers components and event handlers */
                            registerCollapsable("#propertiesCollapsable", propertiesCollapsableHandler);
                            registerCollapsable("#edgeListCollapsable", edgeListCollapsableHandler);
                            registerCollapsable("#visualizationCollapsable", visualizationCollapsableHandler);
                            registerCollapsable("#runAlgorithmCollapsable", runAlgorithmCollapsableHandler);
                            registerCollapsable("#runSimulationCollapsable", runSimulationCollapsableHandler);
                            registerCollapsable("#runCentralityCalculationCollapsable", runCentralityCalculationCollapsableHandler);
                            registerCollapsable("#runCentralitySimulationCollapsable", runCentralitySimulationCollapsableHandler);
                        },
                        /* Error handler */
                        function(errorData) {
                            /*
                             * GraphIds request failed
                             */
                            showConnectionErrorMessage("Graph was not received.");
                    }, "text");
                /*
                * Run algorithm form listener.
                */
                $('#runAlgorithmForm').submit(function(){
                    var algo = $('#algorithm').val();
                    if(algo !== getSelectOptionVal()) {
                        var params = getParameterXml("#algorithmParams");
                        var coverName = $("#coverName").val();
                        var contentWeighting = $("#contentWeighting").is(':checked');
                        if(coverName === "") {
                            showErrorMessage('Please define a cover name.');
                            return;
                        }
                        /* Requests an algorithm execution  */
                        sendRequest("post", "covers/graphs/" + graphId
                                + "/algorithms?algorithm="+ algo + "&name=" + coverName + "&contentWeighting=" + contentWeighting, params,
                            /* Response handler */
                            function(response) {
                                window.location.href = 'index.html';
                            },
                            /* Error handler */
                            function(errorData) {
                                /*
                                 * Run algorithm request failed
                                 */
                                showConnectionErrorMessage("Algorithm request failed.");
                        });
                    }
                    return false;
                });
                /*
                 * Run centrality calculation form listener.
                 */
                 $('#runCentralityCalculationForm').submit(function(){
                   var c_algo = $('#centralityMeasure').val();
                   if(c_algo !== getSelectOptionVal()) {
                     var params = getParameterXml("#centralityMeasureParameterDiv");
                     sendRequest("post", "centrality/graphs/" + graphId
                             + "/algorithms?algorithm="+ c_algo, params,
                         /* Response handler */
                         function(response) {
                             //window.location.href = 'index.html';
                         },
                         /* Error handler */
                         function(errorData) {
                             /*
                              * Run centrality calculation request failed
                              */
                             if(errorData.includes("Show Error")) {
                                  var errorSplit = errorData.split(":");
                                  showErrorMessage(errorSplit[errorSplit.length-1]);
                             }
                             else {
                                 showConnectionErrorMessage("Centrality calculation request failed.");
                             }
                     });
                   }
                   return false;
                 });
                 /*
                  * Run centrality simulation form listener.
                  */
                  $('#runCentralitySimulationForm').submit(function(){
                    var sim = $('#centralitySimulation').val();
                    if(sim !== getSelectOptionVal()) {
                      var params = getParameterXml("#centralitySimulationParameterDiv");
                      var runs = 1;
                      if($('#multipleRuns').prop("checked")) {
                          runs = $('#runsInput').val();
                      }
                      var counter;
                      for(counter = 0; counter < runs; counter++) {
                          sendRequest("post", "centrality/simulation/graphs/" + graphId
                                  + "?simulation="+ sim + "&runs=" + runs, params,
                              /* Response handler */
                              function(response) {
                                  //window.location.href = 'index.html';
                              },
                              /* Error handler */
                              function(errorData) {
                                  /*
                                   * Run centrality simulation request failed
                                   */
                                  if(errorData.includes("Show Error")) {
                                      var errorSplit = errorData.split(":");
                                      showErrorMessage(errorSplit[errorSplit.length-1]);
                                  }
                                  else {
                                      showConnectionErrorMessage("Centrality simulation request failed.");
                                  }
                          });
                        }
                      }
                    return false;
                  });
            });
            /* Requests the names of all OCD algorithms.
             * Then executes a callback function */
            function getAlgorithmNames(callback) {
                sendRequest("get", "algorithms", "",
                        /* Response handler */
                        function(response) {
                            algorithmNames = response;
                            if(typeof callback !== 'undefined') {
                                callback();
                            }
                        },
                        /* Error handler */
                        function(errorData) {
                            /*
                             * OCD algorithm request failed
                             */
                            showConnectionErrorMessage("Algorithm names were not received.");
                        });
            }
            /* Requests the names of all centrality measures.
             * Then executes a callback function */
            function getCentralityMeasureNames(callback) {
                sendRequest("get", "centralities", "",
                        /* Response handler */
                        function(response) {
                			centralityMeasureNames = response;
                            if(typeof callback !== 'undefined') {
                                callback();
                            }
                        },
                        /* Error handler */
                        function(errorData) {
                            /*
                             * Centrality measure name request failed
                             */
                            showConnectionErrorMessage("Centrality measure names were not received.");
                        });
            }
            /* Requests the names of all centrality simulations.
             * Then executes a callback function */
            function getCentralitySimulationNames(callback) {
                sendRequest("get", "centralitysimulations", "",
                        /* Response handler */
                        function(response) {
                			centralitySimulationNames = response;
                            if(typeof callback !== 'undefined') {
                                callback();
                            }
                        },
                        /* Error handler */
                        function(errorData) {
                            /*
                             * Centrality simulation name request failed
                             */
                            showConnectionErrorMessage("Simulation names were not received.");
                        });
            }
            /* Requests all parameter names for a given algorithm.
             * Then executes a calllback function */
            function getAlgorithmParameters(algorithmName, callback) {
                sendRequest("get", "algorithms/" + algorithmName + "/parameters/default", "",
                        /* Response handler */
                        function(response) {
                            if(typeof callback !== 'undefined') {
                                callback(response);
                            }
                        },
                        /* Error handler */
                        function(errorData) {
                            /*
                             * GraphIds request failed
                             */
                            showConnectionErrorMessage("Algorithm parameters were not received.");
                        });
            }
            /* Requests all parameter names for a given centrality measure.
             * Then executes a calllback function */
            function getCentralityMeasureParameters(centralityMeasureName, callback) {
                sendRequest("get", "centralities/" + centralityMeasureName + "/parameters/default", "",
                        /* Response handler */
                        function(response) {
                            if(typeof callback !== 'undefined') {
                                callback(response);
                            }
                        },
                        /* Error handler */
                        function(errorData) {
                            /*
                             * Centrality measure parameter request failed
                             */
                            showConnectionErrorMessage("Centrality measure parameters were not received.");
                        });
            }
            /* Requests all parameter names for a given centrality simulation.
             * Then executes a calllback function */
            function getCentralitySimulationParameters(centralitySimulationName, callback) {
                sendRequest("get", "centralitysimulations/" + centralitySimulationName + "/parameters/default", "",
                        /* Response handler */
                        function(response) {
                            if(typeof callback !== 'undefined') {
                                callback(response);
                            }
                        },
                        /* Error handler */
                        function(errorData) {
                            /*
                             * Centrality simulation parameter request failed
                             */
                            showConnectionErrorMessage("Centrality simulation parameters were not received.");
                        });
            }
            /* Handles the collapsable element for the algorithm execution. */
            function runAlgorithmCollapsableHandler() {
                if(typeof algorithmNames === 'undefined') {
                    /* Adds all algorithm names to the form */
                    getAlgorithmNames(function() {
                        $(algorithmNames).find('Name').each(function() {
                            if($(this).text() !== 'UNDEFINED' &&  $(this).text() !== 'GROUND_TRUTH') {
                                $("#algorithm").append(
                                    '<option value="' + $(this).text()
                                    + '">' + parseEnumName($(this).text()) + '</option>');
                            }
                        });
                    });
                    /* Registers the parameter component for the contentHandler */
                    registerParameterSelect("#algorithm", "#algorithmParameterDiv", getAlgorithmParameters);
                }
            }
            /* Handles the collapsable element for the algorithm execution. */
            function runSimulationCollapsableHandler() {
                if(typeof algorithmNames === 'undefined') {
                    /* Adds all algorithm names to the form */
                    getAlgorithmNames(function() {
                        $(algorithmNames).find('Name').each(function() {
                            if($(this).text() !== 'UNDEFINED' &&  $(this).text() !== 'GROUND_TRUTH') {
                                $("#algorithm").append(
                                    '<option value="' + $(this).text()
                                    + '">' + parseEnumName($(this).text()) + '</option>');
                            }
                        });
                    });
                }
            }
            /* Handles the collapsable element for the centrality calculation. */
            function runCentralityCalculationCollapsableHandler() {
                if(typeof centralityMeasureNames === 'undefined') {
                    /* Adds all centrality measure names to the form */
                    getCentralityMeasureNames(function() {
                        $(centralityMeasureNames).find('Name').each(function() {
                        	if($(this).text() !== 'Undefined') {
                                $("#centralityMeasure").append(
                                    '<option value="' + $(this).text()
                                    + '">' + $(this).text() + '</option>');
                            }
                        });
                    });
                    /* Registers the parameter component for the contentHandler */
                    registerParameterSelect("#centralityMeasure", "#centralityMeasureParameterDiv", getCentralityMeasureParameters);
                }
            }
            /* Handles the collapsable element for the centrality simulation. */
            function runCentralitySimulationCollapsableHandler() {
                if(typeof centralitySimulationNames === 'undefined') {
                    /* Adds all centrality simulation names to the form */
                    getCentralitySimulationNames(function() {
                        $(centralitySimulationNames).find('Name').each(function() {
                            if($(this).text() !== 'Undefined') {
                                $("#centralitySimulation").append(
                                    '<option value="' + $(this).text()
                                    + '">' + $(this).text() + '</option>');
                            }
                        });
                    });
                    $('#multipleRuns').change(function() {
                        $('#runsInput').toggleClass("hidden");
                    });
                    /* Registers the parameter component for the contentHandler */
                    registerParameterSelect("#centralitySimulation", "#centralitySimulationParameterDiv", getCentralitySimulationParameters);
                }
            }
            /* Requests and stores the properties of the graph.
             * Then executes a callback function */
            function getProperties(callback) {
                sendRequest("get", "graphs/" + graphId + "?outputFormat=PROPERTIES_XML", "",
                        /* Response handler */
                        function(response) {
                            graphProperties = response;
                            if(typeof callback !== 'undefined') {
                                callback();
                            }
                        },
                        /* Error handler */
                        function(errorData) {
                            /*
                             * GraphIds request failed
                             */
                            showConnectionErrorMessage("Graph Properties was not received.");
                        }, "text");
            }
            /* Requests and stores the edge list of the graph.
             * Then executes a callback function */
            function getEdgeList(callback) {
                sendRequest("get", "graphs/" + graphId + "?outputFormat=WEIGHTED_EDGE_LIST", "",
                        /* Response handler */
                        function(response) {
                            graphEdgeList = response;
                            if(typeof callback !== 'undefined') {
                                callback();
                            }
                        },
                        /* Error handler */
                        function(errorData) {
                            /*
                             * GraphIds request failed
                             */
                            showConnectionErrorMessage("Graph was not received.");
                        }, "text");
            }
            /* Handles the collapsable element for the properties. */
            function propertiesCollapsableHandler() {
                if(typeof graphProperties === 'undefined') {
                    /* Requests the edge list */
                    getProperties(function() {
                            /* Adds properties information to a table */
                            var properties = $(graphProperties).children();
                            for (i = 0; i < properties.length; i++) {
                              var name = $(properties)[i].nodeName;
                              var value = $(graphProperties).find($(properties)[i].nodeName).text();
                                if(name !== 'ID' &&  name !== 'NAME') {
                                  name = name.replace("_", " ");
                                  var row = '<tr>'
                                      + '<td>' + name + '</td>'
                                      + '<td>' + value + '</td>'
                                      + '</tr>';
                                    $("#graphPropertiesTable tbody").append(row);
                                }
                              }
                            });

                }
            }
            /* Handles the collapsable element for the edge list. */
            function edgeListCollapsableHandler() {
                if(typeof graphEdgeList === 'undefined') {
                    /* Requests the edge list */
                    getEdgeList(function() {
                            /* Adds the edge list information to a table */
                            var lines = graphEdgeList.split('\n');
                            $.each(lines, function(key, line) {
                                var parts = line.split(' ');
                                if($(parts).length === 3) {
                                    var row = '<tr>'
                                        + '<td>' + parts[0] + '</td>'
                                        + '<td>' + parts[1] + '</td>'
                                        + '<td>' + parts[2] + '</td>'
                                        + '</tr>';
                                    $("#graphEdgeTable tbody").append(row);
                                }
                            });
                            $("#graphEdgeTable").tablesorter({sortList: [[0,0], [1,0]]});
                        });
                }
            }
            /* Handles the collapsable element for the graph visualization */
            function visualizationCollapsableHandler() {
                /* Requests the graph visualization */
                if(typeof visualization === 'undefined') {
                    getVisualization();
                }
                /* Registers the visualization for panzoom */
                var $panzoom = $('body').find('.visualizationGraphic').panzoom({$zoomRange: $('body').find(".visualizationZoomer"), increment: 0.9, contain: 'invert', maxScale: 10, minScale: 1});
                $panzoom.on('mousewheel', function( e ) {
                    e.preventDefault();
                    var delta = e.delta || e.originalEvent.wheelDelta;
                    var zoomOut = delta ? delta < 0 : e.originalEvent.deltaY > 0;
                    $panzoom.panzoom('zoom', zoomOut, {
                        increment: 0.1,
                        animate: false,
                        focal: e
                    });
                });
            }
            /* Requests and stores the graph visualization */
            function getVisualization() {
                sendRequest("get", "visualization/graph/" + graphId + "/outputFormat/SVG/layout/ORGANIC", "",
                    /* Request handler */
                    function(response) {
                        visualization = response;
                        $('.visualizationGraphic').append(visualization);
                    },
                    /* Error handler */
                    function(errorData) {
                        /*
                         * GraphIds request failed
                         */
                        showConnectionErrorMessage("Visualization was not received.");
                });
            }

            function deleteGraph() {
              sendRequest("delete", "graphs/" + graphId, "",
                  /* Request handler */
                  function(response) {
                    showSuccess(response);
                  },
                  /* Error handler */
                  function(errorData) {
                      /*
                       * GraphIds request failed
                       */
                      showConnectionErrorMessage(errorData);
              });
            }
        </script>
    </head>
    <body>
        <div id="wrapper">
            <div id="contentWrapper">
                <div id="content">
                    <!-- Container for error message display -->
                    <div id="errorMessageWrapper">
                        <div id="errorMessage"></div>
                    </div>
                    <!-- Graph meta information and related data -->
                    <div style="margin-bottom: 1em;">
                      <div id="graphHeader" class="col-sm-12 col-md-12 graphColor">

                      </div>
                      <div class="side-nav d-flex flex-row">
                        <ul class="nav" style="width:100%;">
                        <div class="p-2 coverColor col-md-3 col-sm-6">
                          <li id="graphCovers" class="nav-item coverColor"></li>
                        </div>
                        <div class="p-2 simulationColor col-md-3 col-sm-6">
                          <li id="graphSimulations" class="nav-item simulationColor"></li>
                        </div>
                        <div class="p-2 centralityColor col-md-3 col-sm-6">
                          <li id="graphCentralities" class="nav-item centralityColor"></li>
                        </div>
                        <div class="p-2 deleteColor col-md-3 col-sm-6">
                          <li id="graphDelete" class="nav-item deleteColor"></li>
                        </div>
                        </ul>
                      </div>
                    </div>
                    <div class="container-fluid">
                    <div class="row">
                    <!-- Collapsable for graph properties -->
                    <div id="propertiesCollapsable" class="collapsable col-lg-6">
                        <div class="collapsableHeader">
                            <div class="collapsableTitle">Properties</div>
                            <div class="collapsableCollapser">
                                <img class="icon iconBtn collapsableDisplayBtn" src="IMG/open-iconic/svg/chevron-bottom.svg" alt="d">
                                <img class="icon iconBtn collapsableCollapseBtn" src="IMG/open-iconic/svg/chevron-top.svg" alt="c">
                            </div>
                        </div>
                        <div class="collapsableContent">
                            <!-- Table for graph properties -->
                            <div class="tableWrapper table-responsive">
                                <table id="graphPropertiesTable" class="table">
                                    <thead>
                                    <tr>
                                        <th title="Property">
                                            Property
                                        </th>
                                        <th title="Value">
                                            Value
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- Collapsable for graph edge list -->
                    <div id="edgeListCollapsable" class="collapsable col-sm-12 col-lg-6">
                        <div class="collapsableHeader">
                          <div class="collapsableTitle">Edges</div>

                            <div class="collapsableCollapser">
                                <img class="icon iconBtn collapsableDisplayBtn" src="IMG/open-iconic/svg/chevron-bottom.svg" alt="d">
                                <img class="icon iconBtn collapsableCollapseBtn" src="IMG/open-iconic/svg/chevron-top.svg" alt="c">
                            </div>
                        </div>
                        <div class="collapsableContent">
                            <!-- Table for graph edge list -->
                            <div class="tableWrapper table-responsive">
                                <table id="graphEdgeTable" class="table">
                                    <thead>
                                    <tr>
                                        <th title="Source Node">
                                            Source
                                        </th>
                                        <th title="Target Node">
                                            Target
                                        </th>
                                        <th title="Edge Weight">
                                            Weight
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                  </div>
                  <div class="row">
                    <!-- Collapsable for algorithm execution -->
                    <div id="runAlgorithmCollapsable" class="collapsable col-sm-12">
                        <div class="collapsableHeader coverColor">
                            <div class="collapsableTitle">Run OCD Algorithm</div>
                            <div class="collapsableCollapser">
                                <img class="icon iconBtn collapsableDisplayBtn" src="IMG/open-iconic/svg/chevron-bottom.svg" alt="d">
                                <img class="icon iconBtn collapsableCollapseBtn" src="IMG/open-iconic/svg/chevron-top.svg" alt="c">
                            </div>
                        </div>
                        <div class="collapsableContent">
                          <div id="ocdContainer" class="container">
                            <form id="runAlgorithmForm" action="javascript:void(0); return false;">
                              <!-- Cover Name -->
                              <div class="form-group row">
                                <label for="coverName" class="col-sm-2 col-form-label">Cover</label>
                                <div class="col-sm-10">
                                   <input id="coverName" type="text" class="form-control" name="name" placeholder="name">
                                </div>
                              </div>
                              <!-- Algorithm -->
                              <div class="form-group row">
                                <label for="algorithm" class="col-sm-2 col-form-label">Algorithm</label>
                                <div class="col-sm-10">
                                  <select id="algorithm" class="form-control custom-select">
                                  </select>
                                </div>
                              </div>
                              <!-- Algorithm Parameters -->
                                <div class="col-sm-10" id="algorithmParameterDiv">
                                </div>

                              <div class="form-group row">
                                <div class="container">
                                <label class="custom-control custom-checkbox">
                                  <input id="contentWeighting" type="checkbox" class="custom-control-input">
                                  <span class="custom-control-indicator"></span>
                                  <span class="custom-control-description">Content Weighting</span>
                                </label>
                              </div>
                              </div>
                              <div class="form-group">
                                 <button type="submit" name="submit" id="runAlgorithmBtn" class="btn btn-primary">Run</button>
                              </div>
                              </form>
                          </div>

                        </div>
                    </div>
                  </div>
                  <div class="row">
                    <!-- Collapsable for simulation execution -->
                    <div id="runSimulationCollapsable" class="collapsable col-sm-12">
                        <div class="collapsableHeader simulationColor">
                            <div class="collapsableTitle">Run Cooperation Simulation</div>
                            <div class="collapsableCollapser">
                                <img class="icon iconBtn collapsableDisplayBtn" src="IMG/open-iconic/svg/chevron-bottom.svg" alt="d">
                                <img class="icon iconBtn collapsableCollapseBtn" src="IMG/open-iconic/svg/chevron-top.svg" alt="c">
                            </div>
                        </div>
                        <div class="collapsableContent">
                            <!-- Form for simulation execution -->
                                <div id="simulationContainer" class="container">

                                </div>
                        </div>
                    </div>
                  </div>
                    <div class="row">
                    <!-- Collapsable for centrality calculation execution -->
                    <div id="runCentralityCalculationCollapsable" class="collapsable col-sm-12">
                        <div class="collapsableHeader centralityColor">
                            <div class="collapsableTitle">Run Centrality Calculation</div>
                            <div class="collapsableCollapser">
                                <img class="icon iconBtn collapsableDisplayBtn" src="IMG/open-iconic/svg/chevron-bottom.svg" alt="d">
                                <img class="icon iconBtn collapsableCollapseBtn" src="IMG/open-iconic/svg/chevron-top.svg" alt="c">
                            </div>
                        </div>
                        <div class="collapsableContent">
                            <!-- Form for centrality calculation execution -->
                            <form id="runCentralityCalculationForm" class="container">
                                  <div class="form-group row">
                                  <label for="centralityMeasure" class="col-sm-4 col-form-label">Centrality Measure</label>
                                    <div class="col-sm-8">
                                      <select id="centralityMeasure" class="form-control">
                                      </select>
                                    </div>
                                  </div>

                                  <div class="form-group col-sm-12" id="centralityMeasureParameterDiv">
                                  </div>

                                  <div class="form-group row col-sm-12">
                                      <button type="submit" id="runCentralityCalculationBtn" class="btn btn-primary">Run</button>
                                  </div>
                            </form>
                        </div>
                    </div>
                  </div>
                  <div class="row">
                    <!-- Collapsable for centrality simulation execution -->
                    <div id="runCentralitySimulationCollapsable" class="collapsable col-sm-12">
                        <div class="collapsableHeader centralityColor">
                            <div class="collapsableTitle">Run Centrality Simulation</div>
                            <div class="collapsableCollapser">
                                <img class="icon iconBtn collapsableDisplayBtn" src="IMG/open-iconic/svg/chevron-bottom.svg" alt="d">
                                <img class="icon iconBtn collapsableCollapseBtn" src="IMG/open-iconic/svg/chevron-top.svg" alt="c">
                            </div>
                        </div>
                        <div class="collapsableContent">
                            <!-- Form for centrality simulation execution -->
                            <form id="runCentralitySimulationForm" class="container">
                                  <div class="form-group row">
                                  <label for="centralitySimulation" class="col-sm-4 col-form-label">Simulation</label>
                                    <div class="col-sm-8">
                                      <select id=centralitySimulation class="form-control">
                                      </select>
                                    </div>
                                  </div>
                                  <div class="form-group col-sm-12" id="centralitySimulationParameterDiv">
                                  </div>
                                  <div class="form-group row col-sm-12" id="centralitySimulationRunsDiv">
                                      <label><input type="checkbox" id="multipleRuns"> Multiple Runs</label>
                                      <input type="text" class="form-control hidden" value="2" id="runsInput">
                                  </div>

                                  <div class="form-group">
                                      <button type="submit" id="runCentralitySimulationBtn" class="btn btn-primary">Run</button>
                                  </div>
                            </form>
                        </div>
                    </div>
                  </div>
                    <!-- Collapsable for graph visualization -->
                    <div class="row">
                    <div id="visualizationCollapsable" class="collapsable col-sm-12">
                        <div class="collapsableHeader">
                            <div class="collapsableTitle">Visualization</div>
                            <div class="collapsableCollapser">
                                <img class="icon iconBtn collapsableDisplayBtn" src="IMG/open-iconic/svg/chevron-bottom.svg" alt="d">
                                <img class="icon iconBtn collapsableCollapseBtn" src="IMG/open-iconic/svg/chevron-top.svg" alt="c">
                            </div>
                        </div>
                        <div class="collapsableContent">
                            <!-- Container for graph visualization -->
                            <div class="visualization">
                                <div class="visualizationControl">
                                    <input class="visualizationZoomer" type="range">
                                </div>
                                <div class="visualizationContent">
                                    <div class="visualizationGraphic">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
    </body>
</html>
